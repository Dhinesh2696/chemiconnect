// Data based on the provided document
const data = {
    "industry-oils": {
        "Lubricants": {
            "description": "Chemiconnect offers a variety of high-performance lubricants designed to improve efficiency, reduce friction, and extend the life of industrial machinery. These lubricants are formulated to meet the demanding requirements of modern industrial processes.",
            "products": [
                {
                    "title": "GEAR V SAE 90",
                    "description": "Heavy-duty gear oil for industrial gears and transmissions."
                },
                {
                    "title": "Syngear 75W-90",
                    "description": "Fully synthetic gear oil for high-performance applications."
                },
                {
                    "title": "Lithium Complex EP Grease",
                    "description": "Multi-purpose grease for bearings and heavy machinery."
                },
                {
                    "title": "ATF Dexron III",
                    "description": "Automatic transmission fluid for smooth shifting in vehicles and machinery."
                },
                {
                    "title": "Synthetic Motor Oil SAE 5W-30",
                    "description": "Engine oil for fuel efficiency and extended engine life."
                }
            ]
        },
        "Hydraulic Oils": {
            "description": "Our hydraulic oils are formulated to ensure smooth operation in hydraulic systems, providing excellent protection against wear, corrosion, and oxidation. These oils are designed for both industrial and mobile applications, ensuring long-lasting performance.",
            "products": [
                {
                    "title": "HydraTech HVI 46",
                    "description": "High-viscosity index fluid for temperature stability in hydraulic systems."
                },
                {
                    "title": "Hydraulic Oil ISO VG 32",
                    "description": "Standard-grade hydraulic fluid for industrial machinery."
                },
                {
                    "title": "BioHydraulic 46",
                    "description": "Biodegradable hydraulic oil for environmentally sensitive applications."
                },
                {
                    "title": "AW Hydraulic Oil 68",
                    "description": "Anti-wear hydraulic oil for high-pressure systems."
                },
                {
                    "title": "Hydraulic Fluid HVLP 46",
                    "description": "High-performance fluid with superior temperature performance."
                }
            ]
        },
        "Cutting Fluids": {
            "description": "Chemiconnect provides cutting fluids that enhance the efficiency of machining processes by providing superior cooling, lubrication, and chip removal. Our cutting fluids are designed to extend tool life and improve the quality of machined parts.",
            "products": [
                {
                    "title": "CoolCut S 550",
                    "description": "Semi-synthetic cutting fluid for high-speed machining."
                },
                {
                    "title": "Trim E206",
                    "description": "Water-soluble emulsion cutting fluid for general machining."
                },
                {
                    "title": "NeatCut 1000",
                    "description": "Precision cutting oil for demanding machining applications."
                },
                {
                    "title": "SynCut 700",
                    "description": "Fully synthetic cutting fluid for light to moderate machining."
                },
                {
                    "title": "BioCut 300",
                    "description": "Biodegradable cutting fluid for eco-friendly operations."
                }
            ]
        }
    },
    "speciality-chemicals": {
        "Polymers": {
            "description": "We supply a wide range of polymers that are essential in various industries, from packaging to automotive. These polymers offer superior strength, flexibility, and chemical resistance for diverse applications.",
            "products": [
                {
                    "title": "High-Density Polyethylene (HDPE)",
                    "description": "Versatile polymer for packaging, containers, and piping."
                },
                {
                    "title": "Isotactic Polypropylene (iPP)",
                    "description": "Rigid polymer for automotive parts and packaging."
                },
                {
                    "title": "Polymethyl Methacrylate (PMMA)",
                    "description": "Transparent polymer for optical and protective applications."
                },
                {
                    "title": "Thermoplastic Polyurethane (TPU)",
                    "description": "Flexible polymer used in electronics and automotive parts."
                },
                {
                    "title": "Ethylene Vinyl Acetate (EVA)",
                    "description": "Soft, flexible polymer used in foams and adhesives."
                }
            ]
        },
        "Solvents": {
            "description": "Chemiconnect offers a wide range of industrial-grade solvents used for cleaning, degreasing, and as a key component in chemical formulations. Our solvents are designed to meet the strictest safety and environmental regulations.",
            "products": [
                {
                    "title": "Acetone (Propanone)",
                    "description": "Fast-evaporating solvent for cleaning and chemical formulations."
                },
                {
                    "title": "Toluene",
                    "description": "Common solvent used in coatings, adhesives, and chemical syntheses."
                },
                {
                    "title": "Ethyl Acetate",
                    "description": "Low-toxicity solvent for paints, coatings, and adhesives."
                },
                {
                    "title": "Dimethyl Sulfoxide (DMSO)",
                    "description": "Polar solvent used in pharmaceutical and industrial applications."
                },
                {
                    "title": "Isopropanol (Isopropyl Alcohol)",
                    "description": "Multipurpose solvent for cleaning and disinfecting."
                }
            ]
        },
        "Surfactants": {
            "description": "Our surfactants provide excellent emulsifying, wetting, and cleaning properties, making them ideal for use in detergents, cosmetics, and industrial cleaning products.",
            "products": [
                {
                    "title": "Sodium Lauryl Sulfate (SLS)",
                    "description": "Widely used surfactant in personal care products for foaming and cleaning."
                },
                {
                    "title": "Cocamidopropyl Betaine (CAPB)",
                    "description": "Mild surfactant used in shampoos and skin cleansers."
                },
                {
                    "title": "Polysorbate 80 (Tween 80)",
                    "description": "Emulsifier used in pharmaceuticals and food products."
                },
                {
                    "title": "Sodium Dodecylbenzenesulfonate (SDBS)",
                    "description": "Surfactant used in detergents and industrial cleaners."
                },
                {
                    "title": "Lauryl Glucoside",
                    "description": "Nonionic surfactant used in eco-friendly cleaning products."
                }
            ]
        }
    },
    "agricultural-chemicals": {
        "Fertilizers": {
            "description": "Our fertilizers provide essential nutrients for agricultural crops, promoting healthy growth and increased yield. These products are formulated to meet the specific needs of different soil types and crops.",
            "products": [
                {
                    "title": "Urea (46-0-0)",
                    "description": "Nitrogen-rich fertilizer for improving plant growth."
                },
                {
                    "title": "Ammonium Nitrate (34-0-0)",
                    "description": "Quick-release nitrogen fertilizer for cereal crops."
                },
                {
                    "title": "Monoammonium Phosphate (MAP) (11-52-0)",
                    "description": "Phosphorus and nitrogen fertilizer for root development."
                },
                {
                    "title": "Potassium Sulfate (0-0-50)",
                    "description": "Potassium-based fertilizer for drought resistance."
                },
                {
                    "title": "Calcium Ammonium Nitrate (CAN) (27-0-0)",
                    "description": "Nitrogen and calcium fertilizer for acid soils."
                }
            ]
        },
        "Pesticides": {
            "description": "Chemiconnect offers a range of pesticides designed to protect crops from harmful insects, weeds, and diseases. Our products are formulated for effectiveness and safety, ensuring high yields and healthy crops.",
            "products": [
                {
                    "title": "Glyphosate",
                    "description": "Non-selective herbicide for broad-spectrum weed control."
                },
                {
                    "title": "Imidacloprid",
                    "description": "Systemic insecticide for pest control in crops."
                },
                {
                    "title": "Chlorpyrifos",
                    "description": "Insecticide for controlling termites, mosquitoes, and crop pests."
                },
                {
                    "title": "Mancozeb",
                    "description": "Fungicide for protecting crops from fungal diseases."
                },
                {
                    "title": "Carbaryl",
                    "description": "Broad-spectrum insecticide for controlling pests on crops and gardens."
                }
            ]
        },
        "Herbicides": {
            "description": "Our herbicides are designed to target and eliminate unwanted weeds in agricultural and non-crop areas, ensuring healthier and more productive crop yields.",
            "products": [
                {
                    "title": "Imazapyr",
                    "description": "Broad-spectrum herbicide for control of invasive species and woody plants."
                },
                {
                    "title": "Atrazine",
                    "description": "Selective herbicide for controlling broadleaf weeds in corn and sugarcane."
                },
                {
                    "title": "Paraquat",
                    "description": "Non-selective herbicide for weed control in fruit orchards and plantations."
                },
                {
                    "title": "2,4-D",
                    "description": "Selective herbicide for broadleaf weed control in crops and lawns."
                },
                {
                    "title": "Dicamba",
                    "description": "Herbicide for controlling broadleaf weeds and woody plants."
                }
            ]
        }
    },
    "pharmaceuticals": {
        "Pharmaceutical Intermediates": {
            "description": "Chemiconnect supplies high-quality pharmaceutical intermediates used in the production of medicines and active pharmaceutical ingredients (APIs).",
            "products": [
                {
                    "title": "4-Aminophenol",
                    "description": "Intermediate for the synthesis of paracetamol."
                },
                {
                    "title": "Piperazine",
                    "description": "Intermediate for producing anthelmintic and psychiatric medications."
                },
                {
                    "title": "2-Acetylfuran",
                    "description": "Intermediate for anti-inflammatory and antibacterial drugs."
                },
                {
                    "title": "Methylamine Hydrochloride",
                    "description": "Intermediate for respiratory treatments."
                },
                {
                    "title": "6-Aminopenicillanic Acid (6-APA)",
                    "description": "Key intermediate for penicillin antibiotics."
                }
            ]
        }
    },
    "food-grade-oils": {
        "Food-Grade Oils": {
            "description": "Our food-grade oils are sourced and processed to meet the highest safety and quality standards, providing versatile applications in cooking, baking, and food production.",
            "products": [
                {
                    "title": "Soybean Oil",
                    "description": "Widely used vegetable oil in cooking and food production."
                },
                {
                    "title": "Olive Oil (Extra Virgin)",
                    "description": "Premium oil for cooking, dressings, and flavor enhancement."
                },
                {
                    "title": "Coconut Oil",
                    "description": "Multi-purpose oil for cooking, baking, and confectionery."
                },
                {
                    "title": "Palm Oil",
                    "description": "Commonly used oil in processed foods and baked goods."
                },
                {
                    "title": "Rice Bran Oil",
                    "description": "Heart-healthy oil with high smoke point for frying and baking."
                }
            ]
        }
    },
    "food-grade-additives": {
        "Food-Grade Additives": {
            "description": "Chemiconnect provides a range of food additives that enhance the flavor, texture, and shelf life of food products. All additives are food-safe and comply with international standards.",
            "products": [
                {
                    "title": "Preema Food Colour Additives",
                    "description": "High-quality food colorants for enhancing the appearance of foods."
                },
                {
                    "title": "Monosodium Glutamate (MSG)",
                    "description": "Flavor enhancer used in savory dishes and processed foods."
                },
                {
                    "title": "Sodium Benzoate",
                    "description": "Preservative used to extend the shelf life of foods and beverages."
                },
                {
                    "title": "Xanthan Gum",
                    "description": "Thickening agent for sauces, dressings, and gluten-free products."
                },
                {
                    "title": "Citric Acid",
                    "description": "Acidulant and preservative used in beverages, candies, and processed foods."
                }
            ]
        }
    }
};


// Show subcategories based on selected category
function showSubcategories() {
    const category = document.getElementById("category").value;
    const subcategorySelect = document.getElementById("subcategory");
    const label = document.querySelector("label[for='subcategory']");
    const productInfo = document.getElementById("product-info");

    // Reset previous selections and content
    subcategorySelect.innerHTML = "";
    productInfo.innerHTML = "";
    productInfo.style.display = "none";

    if (category !== "default") {
        subcategorySelect.style.display = "block";
        label.style.display = "block";
        subcategorySelect.innerHTML = "<option value='default'>-- Choose a Subcategory --</option>";

        // Populate the subcategory dropdown
        const subcategories = Object.keys(data[category]);
        subcategories.forEach(sub => {
            subcategorySelect.innerHTML += `<option value="${sub}">${sub}</option>`;
        });
    } else {
        // Hide subcategory dropdown if no category is selected
        subcategorySelect.style.display = "none";
        label.style.display = "none";
        productInfo.style.display = "none";
    }
}

// Show products based on selected subcategory
function showProducts() {
    const category = document.getElementById("category").value;
    const subcategory = document.getElementById("subcategory").value;
    const productInfo = document.getElementById("product-info");

    // Reset the product section
    productInfo.innerHTML = "";

    if (subcategory !== "default") {
        productInfo.style.display = "block";

        // Show the description
        const subcategoryData = data[category][subcategory];
        productInfo.innerHTML = `<div class="product-description">${subcategoryData.description}</div>`;

        // Create product grid
        const productGrid = document.createElement('div');
        productGrid.className = 'product-grid';

        // Add products as cards
        subcategoryData.products.forEach(product => {
            const productCard = document.createElement('div');
            productCard.className = 'product-card';
            productCard.innerHTML = `
                <h3>${product.title}</h3>
                <p>${product.description}</p>
        <button class="btn" onclick="redirectToQuote('${product.title}')">Request Quote</button>
            `;
            productGrid.appendChild(productCard);
        });

        // Append the product grid to the product info section
        productInfo.appendChild(productGrid);
    } else {
        productInfo.style.display = "none";
    }
}

function redirectToQuote(productTitle) {
    // Use URL parameters to send product info to the quote page
    window.location.href = `request-quote.html?product=${encodeURIComponent(productTitle)}`;
}
